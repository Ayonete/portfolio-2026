{% extends 'base.html' %}

{% block title %}Blog{% endblock %}

{% block content %}
<div class="blog-container">
    <div class="blog-header">
        <h1>Blog</h1>
        {% if user.is_authenticated %}
            <a href="{% url 'blog:post_create' %}" class="btn btn-primary">+ New Post</a>
        {% endif %}
    </div>

    <div class="blog-list">
        {% for post in posts %}
            <article class="blog-post-card">
                <h2><a href="{% url 'blog:post_detail' post.slug %}">{{ post.title }}</a></h2>
                <time>{{ post.created_at|date:"F d, Y" }}</time>
                <p>{{ post.excerpt }}</p>
                
                {% if user.is_authenticated %}
                    <div class="blog-post-actions">
                        <a href="{% url 'blog:post_edit' post.slug %}">Edit</a>
                        <a href="{% url 'blog:post_delete' post.slug %}">Delete</a>
                    </div>
                {% endif %}
            </article>
        {% empty %}
            <div class="blog-empty">
                <p>No posts yet.</p>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}